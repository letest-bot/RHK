const schedule = require('node-schedule');
const moment = require('moment-timezone');
const chalk = require('chalk');

module.exports.config = {
 name: 'autosent',
 version: '10.0.4',
 hasPermssion: 0,
 credits: 'Priyansh Rajput (Modified by SUJON)',
 description: 'Automatically sends funny-love mixed messages based on time (BD Time)',
 commandCategory: 'group',
 usages: '',
 cooldowns: 3
};

const messages = [
 { time: '12:00 AM', message: '•┄┅═════❁💜❁═════┅┄•                           𝘛𝘪𝘮𝘦:[12:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  ভালো থাকতে হলে রাজপ্রাসাদের প্রয়োজন নেই ভরসা পাওয়ার মতো একটা মানুষই যথেষ্ট!•┄┅═════❁💜❁═════┅┄•' },
 { time: '1:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[01:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
 { time: '2:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[02:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
 { time: '3:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[03:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
 { time: '4:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[04:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
 { time: '5:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[05:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '6:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[06:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '7:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[07:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '8:00 AM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[08:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  শূন্য পকেটে যে নারী পাশে থাকে, সাফল্যের পরে সেই স্ত্রী হওয়ার যোগ্যতা রাখে।•┄┅═════❁💜❁═════┅┄•' },
{ time: '9:00 AM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[09:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  ফুল ফুল করোনা, ফুল আমি দেবনা। ফুল জদি পেতে হয়, ভালবাসা দিতে হয়। ভালবাসা দিয়ে দাউ, ফুল তুমি নিয়ে নাউ। ফুল নিয়া চলে যাও, I Love You বলে দাও!•┄┅═════❁💜❁═════┅┄•' },
{ time: '10:00 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[10:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  গালাগালি আমি একদমই পছন্দ করি না! তবে আমি দিলে সেটা অন্য কথা!•┄┅═════❁💜❁═════┅┄•' },
{ time: '11:30 AM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[11:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '12:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[12:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '1:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[01:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '2:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[02:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '3:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[03:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '4:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[04:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '5:30 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[05:30] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟                •┄┅═════❁💜❁═════┅┄•' },
{ time: '6:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[06:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  সূর্য গেলো মামার বাড়ি, ডুবে গেলো বেলা। বন্ধু তুমি থেকো ভালো, এই সন্ধ্যাবেলা। শুভ সন্ধ্যা!•┄┅═════❁💜❁═════┅┄•' },
{ time: '7:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[07:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  দিনের আলো নিভে এলো, হলো যে আঁধার, সময় হলো এবার, তোমায় শুভ সন্ধ্যা জানাবার। শুভ সন্ধ্যা!•┄┅═════❁💜❁═════┅┄•' },
{ time: '8:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[08:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  লোকে আমায় পাগল বলে, তাতে লজ্জা নাই; সব কলঙ্ক যাবো ভুলে, তোমায় যদি পাই!•┄┅═════❁💜❁═════┅┄•' },
{ time: '9:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                             𝘛𝘪𝘮𝘦:[09:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  আমার একলা আকাশ তোমায় দিলাম, রং তুলিতে মাখো; জেনে নিও মনের ভিতর, তুমিই শুধু থাকো!•┄┅═════❁💜❁═════┅┄•' },
{ time: '10:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[10:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  হৃদয় যদি সহজ হয়, সব চাওয়া পূর্ণ হয়; প্রেম যদি real হয়, একদিন তার হবেই জয়; যদি তোমার মত বন্ধু রয়, Impossible কিছুই নয়!•┄┅═════❁💜❁═════┅┄•' },
{ time: '11:00 PM', message: '•┄┅═════❁💜❁═════┅┄•                            𝘛𝘪𝘮𝘦:[11:00] , 𝘕𝘰𝘵𝘪𝘧𝘪𝘤𝘢𝘵𝘪𝘰𝘯 𝘍𝘳𝘰𝘮 𝘙𝘈𝘑𝘈 𝘝𝘪𝘗 5𝘟  ভালোবাসায় প্রতারনা না থাকলে রাস্তার পাশে এত পাগল বসে থাকতো না!•┄┅═════❁💜❁═════┅┄•' },

];

module.exports.onLoad = ({ api }) => {
 console.log(chalk.green.bold('✅ AutoSent Funny-Love Module Loaded (BD Time)'));

 messages.forEach(({ time, message }) => {
   const [hour, minute, period] = time.split(/[: ]/);
   let hour24 = parseInt(hour);
   if (period === 'PM' && hour !== '12') hour24 += 12;
   if (period === 'AM' && hour === '12') hour24 = 0;

   const rule = new schedule.RecurrenceRule();
   rule.tz = 'Asia/Dhaka';
   rule.hour = hour24;
   rule.minute = parseInt(minute);

   schedule.scheduleJob(rule, () => {
     if (!global.data?.allThreadID) return;
     global.data.allThreadID.forEach(threadID => {
       api.sendMessage(message, threadID, (err) => {
         if (err) console.error(`❌ Error sending message to ${threadID}:`, err);
       });
     });
   });
 });

};

module.exports.run = () => {};
